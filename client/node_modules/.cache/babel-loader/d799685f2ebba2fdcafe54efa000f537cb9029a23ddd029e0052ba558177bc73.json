{"ast":null,"code":"var _jsxFileName = \"/Users/bathshebaomidiora/Desktop/demo-cozy-app/client/src/components/CheckoutForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CheckoutForm = ({\n  totalAmount,\n  clearCart\n}) => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!stripe || !elements) {\n      // when Stripe.js has not loaded yet, disable form submission until it is loaded\n      return;\n    }\n    const cardElement = elements.getElement(CardElement);\n    try {\n      const {\n        error,\n        paymentMethod\n      } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: cardElement,\n        billing_details: {\n          name,\n          email\n        }\n      });\n      if (error) {\n        setMessage(error.message);\n        console.error('[error]', error);\n        navigate('/payment-failed');\n      } else {\n        console.log('[PaymentMethod]', paymentMethod);\n        clearCart();\n        setMessage('Payment successful');\n        navigate('/success');\n      }\n    } catch (err) {\n      console.error('Payment error:', err);\n      navigate('/payment-filed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'text',\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'email',\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Card Details\", /*#__PURE__*/_jsxDEV(CardElement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: !stripe,\n      type: \"submit\",\n      children: [\"Pay $\", totalAmount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'message',\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(CheckoutForm, \"GCNAox2Wxe/EWopiCwEzky1WOrE=\", false, function () {\n  return [useStripe, useElements, useNavigate];\n});\n_c = CheckoutForm;\nexport default CheckoutForm;\nvar _c;\n$RefreshReg$(_c, \"CheckoutForm\");","map":{"version":3,"names":["React","useState","CardElement","useStripe","useElements","useNavigate","jsxDEV","_jsxDEV","CheckoutForm","totalAmount","clearCart","_s","stripe","elements","email","setEmail","name","setName","message","setMessage","navigate","handleSubmit","event","preventDefault","cardElement","getElement","error","paymentMethod","createPaymentMethod","type","card","billing_details","console","log","err","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","required","disabled","className","_c","$RefreshReg$"],"sources":["/Users/bathshebaomidiora/Desktop/demo-cozy-app/client/src/components/CheckoutForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport {useNavigate} from \"react-router-dom\";\n\nconst CheckoutForm = ({ totalAmount, clearCart }) => {\n    const stripe = useStripe();\n    const elements = useElements();\n    const [email, setEmail] = useState('');\n    const [name, setName] = useState('');\n    const [message, setMessage] = useState('');\n    const navigate = useNavigate();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        if(!stripe || !elements) {\n            // when Stripe.js has not loaded yet, disable form submission until it is loaded\n            return;\n        }\n\n        const cardElement = elements.getElement(CardElement);\n\n        try {\n            const {error, paymentMethod} = await stripe.createPaymentMethod({\n                type: 'card',\n                card: cardElement,\n                billing_details: {\n                    name,\n                    email,\n                },\n            });\n\n            if (error) {\n                setMessage(error.message);\n                console.error('[error]', error);\n                navigate('/payment-failed');\n            } else {\n                console.log('[PaymentMethod]', paymentMethod);\n                clearCart();\n                setMessage('Payment successful');\n                navigate('/success');\n            }\n        } catch (err) {\n            console.error('Payment error:', err);\n            navigate('/payment-filed');\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <h2>Checkout</h2>\n            <label>\n                Name\n                <input type={'text'} value={name}\n                       onChange={(e) => setName(e.target.value)} required />\n            </label>\n            <label>\n                Email\n                <input type={'email'} value={email}\n                       onChange={(e) => setEmail(e.target.value)} required />\n            </label>\n            <label>\n                Card Details\n                <CardElement />\n            </label>\n            <button disabled={!stripe} type=\"submit\">\n                Pay ${(totalAmount)}\n            </button>\n            {message && <div className={'message'}>{message}</div>}\n        </form>\n    );\n};\n\nexport default CheckoutForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}